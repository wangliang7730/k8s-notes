---
date: 2021-10-09
updated: 2021-10-29
---

# ç¬¬ 3 ç«  Java çš„åŸºæœ¬ç¨‹åºè®¾è®¡ç»“æ„

## 3.1 ä¸€ä¸ªç®€å•çš„ Java åº”ç”¨ç¨‹åº

- æ–‡ä»¶åï¼šæºä»£ç æ–‡ä»¶åå¿…é¡»ä¸å…¬å…±ç±»ååå­—ç›¸åŒã€‚
- æ–¹æ³•ï¼šJava ä¸­çš„æ‰€æœ‰å‡½æ•°éƒ½æ˜¯æŸä¸ªç±»çš„æ–¹æ³•ã€‚

**main æ–¹æ³•ï¼š**

- publicï¼šæ ¹æ® [Java è¯­è¨€è§„èŒƒ](https://docs.oracle.com/javase/specs)ï¼Œ`main` æ–¹æ³•å¿…é¡»å£°æ˜ä¸º `public`ã€‚
- bugï¼šå½“ `main` æ–¹æ³•ä¸ä¸º `public` æ—¶ï¼ŒæŸäº›ç‰ˆæœ¬å­˜åœ¨ [bug](https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4252539) ä¹Ÿå¯ä»¥è¿è¡Œï¼Œ1.4 ä¹‹åä¿®å¤ã€‚
- exitï¼šJava `main` æ–¹æ³•æ²¡æœ‰ä¸ºæ“ä½œç³»ç»Ÿè¿”å›â€œé€€å‡ºç â€ï¼Œæ­£å¸¸ç»“æŸé€€å‡ºç ä¸º 0ï¼Œè¿”å›å…¶ä»–é€€å‡ºç ä½¿ç”¨ `System.exit` æ–¹æ³•ã€‚

## 3.2 æ³¨é‡Š

**3 ç§æ³¨é‡Šï¼š**

- å•è¡Œæ³¨é‡Šï¼š`//`ã€‚
- å¤šè¡Œæ³¨é‡Šï¼š`/* */`ã€‚
- æ–‡æ¡£æ³¨é‡Šï¼š`/** */`ã€‚

## 3.3 æ•°æ®ç±»å‹

**8 ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼š**

- 4 ç§æ•´å‹ï¼š`byte`ã€`short`ã€`int`ã€`long`ã€‚
- 2 ç§æµ®ç‚¹ç±»å‹ï¼š`float`ã€`double`ã€‚
- 1 ç§å­—ç¬¦ç±»å‹ï¼š`char`ã€‚
- 1 ç§å¸ƒå°”ç±»å‹ï¼š`boolean`ã€‚

### 3.3.1 æ•´å‹

**æ•´å‹å¤§å°ï¼š**

![è¡¨3-1 Java æ•´å½¢](assets/è¡¨3-1-Java-æ•´å½¢.png)

**æ•´å‹å­—é¢é‡ï¼š**

- é•¿æ•´å‹ï¼šåç¼€ `l` æˆ– `L`ã€‚
- åå…­è¿›åˆ¶ï¼šå‰ç¼€ `0x` æˆ– `0X`ã€‚
- å…«è¿›åˆ¶ï¼šå‰ç¼€ `0`ã€‚
- äºŒè¿›åˆ¶ï¼šå‰ç¼€ `ob` æˆ– `0B`ã€‚
- ä¸‹åˆ’çº¿ï¼šæ›´æ˜“è¯»ã€‚

**æ— ç¬¦å·ï¼š**

- æ²¡æœ‰æ— ç¬¦å·ï¼šJava æ²¡æœ‰ä»»ä½•æ— ç¬¦å·å½¢å¼çš„ `int`ã€`long`ã€`short` æˆ– `byte` ç±»å‹ã€‚
- è¡¨ç¤ºæ— ç¬¦å·ï¼šä¸€ä¸ª `byte` ä¹Ÿå¯ä»¥è¡¨ç¤º 0 åˆ° 255 çš„èŒƒå›´ï¼ŒåŸºäºäºŒè¿›åˆ¶ç®—æ•°è¿ç®—çš„æ€§è´¨ï¼Œåªè¦ä¸æº¢å‡ºï¼ŒåŠ æ³•ã€å‡æ³•å’Œä¹˜æ³•éƒ½èƒ½æ­£å¸¸è®¡ç®—ï¼›ä½†æ˜¯å¯¹äºå…¶ä»–è¿ç®—ï¼Œéœ€è¦è°ƒç”¨ `Byte.toUnsignedInt(byte x)` æ¥å¾—åˆ°ä¸€ä¸ª 0 åˆ° 255 çš„ int å€¼ï¼Œå¤„ç†åå†è½¬æ¢å› `byte`ã€‚

### 3.3.2 æµ®ç‚¹ç±»å‹

![è¡¨3-2 æµ®ç‚¹ç±»å‹](assets/è¡¨3-2-æµ®ç‚¹ç±»å‹.png)

**æµ®ç‚¹å­—é¢é‡ï¼š**

- æ— åç¼€ï¼šé»˜è®¤ä¸º `double`ã€‚
- floatï¼š`f` æˆ– `F`ã€‚
- doubleï¼š`d` æˆ– `D`ã€‚

**æµ®ç‚¹ç§‘å­¦è®¡æ•°ï¼š**

- åè¿›åˆ¶ï¼š`e`  æˆ–  `E`ï¼ŒåŸºæ•°ä¸º 10ï¼Œä¾‹å¦‚ï¼š`0.125=1.25e-1`ã€‚
- åå…­è¿›åˆ¶ï¼š`p`  æˆ–  `P`ï¼ŒåŸºæ•°ä¸º 2ï¼Œä¾‹å¦‚ï¼š`0.125=2^-3=0x1.0p-3`ã€‚

**æµ®ç‚¹ç‰¹æ®Šå€¼ï¼š**

- æ­£æ— ç©·å¤§ï¼š`Double.POSITIVE_INFINITY`ã€‚
- è´Ÿæ— ç©·å¤§ï¼š`Double.NEGATIVE_INFINITY`ã€‚
- NaNï¼š`Double.NaN`ï¼Œæ³¨æ„ï¼šä¸èƒ½ä½¿ç”¨ç­‰äºæ£€æµ‹æ˜¯å¦ä¸º NaNï¼Œåº”è¯¥ç”¨ `Double.isNaN`ã€‚

### 3.3.3 char ç±»å‹

- èŒƒå›´ï¼šä» `\u0000` åˆ° `\uFFFF`ã€‚

**å½“å¿ƒæ³¨é‡Šä¸­çš„ \uï¼š**

  - è¯­æ³•é”™è¯¯ï¼Œå› ä¸º `\u000a` ä¼šæ›¿æ¢ä¸ºä¸€ä¸ªæ¢è¡Œç¬¦ï¼š

    ```java
    // \u000A is a newline
    ```

- è¯­æ³•é”™è¯¯ï¼Œå› ä¸º \u åé¢å¹¶æ²¡æœ‰è·Ÿç€ 4 ä¸ªåå…­è¿›åˆ¶æ•°ï¼š

  ```java
  // look inside c:\users
  ```

**è½¬ä¹‰ï¼š**

![è¡¨3-3 ç‰¹æ®Šå­—ç¬¦çš„è½¬ä¹‰åºåˆ—](assets/è¡¨3-3-ç‰¹æ®Šå­—ç¬¦çš„è½¬ä¹‰åºåˆ—.png)

### 3.3.4 Unicode å’Œ char ç±»å‹

**ç ç‚¹ï¼š**

- ç ç‚¹å¯ä»¥åˆ†æˆ 17 ä¸ªä»£ç å¹³é¢ï¼ˆcode planeï¼‰ï¼Œä» `U+0000` åˆ° `U+10FFFF`ã€‚
- 1 ä¸ªåŸºæœ¬å¤šè¯­è¨€å¹³é¢ï¼šbasic multilingual planeï¼Œä» `U+0000` åˆ° `U+FFFF`ã€‚
- 16 ä¸ªè¾…åŠ©å¹³é¢ï¼šsupplementary characterï¼Œä» `U+10000` åˆ° `U+10FFFF`ã€‚

**UTF-16 ç¼–ç ï¼š**

- ä»£ç å•å…ƒï¼šchar ç±»å‹æè¿°äº† UTF-16 ç¼–ç ä¸­çš„ä¸€ä¸ªä»£ç å•å…ƒã€‚
- æ›¿ä»£åŒºåŸŸï¼ˆsurrogate areaï¼‰ï¼šç¬¬ä¸€ä¸ªä»£ç å•å…ƒ `U+D800` åˆ° `U+DBFF`ï¼Œç¬¬äºŒä¸ªä»£ç å•å…ƒ `U+DC00` åˆ° `U+DFFF`ï¼Œå…± 2048 ä¸ªå€¼ã€‚
- UTF-16 ç¼–ç ç®—æ³•ï¼šhttps://tools.ietf.org/html/rfc2781ã€‚

### 3.3.5 boolean ç±»å‹

- Java ä¸­æ•´å½¢å’Œ boolean ä¹‹é—´ä¸èƒ½è¿›è¡Œç›¸äº’è½¬æ¢ã€‚

## 3.4 å˜é‡ä¸å¸¸é‡

### 3.4.1 å£°æ˜å˜é‡

**å˜é‡åè§„åˆ™ï¼š**

- å¼€å¤´ï¼šä»¥å­—æ¯å¼€å¤´ï¼Œåˆ¤æ–­ç”¨ `Character.isJavaIdentifierStart()`ã€‚
- ç»„æˆï¼šç”±å­—æ¯æˆ–æ•°å­—æ„æˆçš„åºåˆ—ï¼Œåˆ¤æ–­ç”¨ `Character.isJavaIdentifierPart()`ã€‚
  - å­—æ¯ï¼šåŒ…æ‹¬ `A~Z`ã€`a~z`ã€ `_`ã€`$` æˆ–åœ¨æŸç§è¯­è¨€ä¸­è¡¨ç¤ºå­—æ¯çš„ä»»ä½• Unicode å­—ç¬¦ã€‚
  - æ•°å­—ï¼šåŒ…æ‹¬ `0~9` å’Œåœ¨æŸç§è¯­è¨€ä¸­è¡¨ç¤ºæ•°å­—çš„ä»»ä½• Unicode å­—ç¬¦ã€‚
- å¤§å°å†™ï¼šæ•æ„Ÿã€‚
- é•¿åº¦ï¼šåŸºæœ¬æ²¡æœ‰é™åˆ¶ã€‚
- $ï¼šå°½ç®¡åˆæ³•ï¼Œä½†ä¸è¦è‡ªå·±ä½¿ç”¨ï¼Œå®ƒåªç”¨åœ¨ Java ç¼–è¯‘å™¨æˆ–å…¶ä»–å·¥å…·ç”Ÿæˆçš„åå­—ä¸­ã€‚

### 3.4.2 å˜é‡åˆå§‹åŒ–

- ä¸èƒ½ä½¿ç”¨æœªåˆå§‹åŒ–çš„å˜é‡ã€‚
- Java 10 å¼€å§‹å¯ä»¥ä½¿ç”¨ `var`ã€‚
- ä¸åŒºåˆ†å£°æ˜å’Œå®šä¹‰ã€‚

### 3.4.3 å¸¸é‡

- ä½¿ç”¨ `final` å®šä¹‰å¸¸é‡ã€‚
- `const` æ˜¯ Java ä¿ç•™çš„å…³é”®å­—ã€‚

### 3.4.4 æšä¸¾ç±»å‹

ç•¥ã€‚

## 3.5 è¿ç®—ç¬¦

### 3.5.1 ç®—æœ¯è¿ç®—ç¬¦

- é™¤æ³•ï¼šä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯æ•´æ•°æ—¶ï¼Œè¡¨ç¤ºæ•´é™¤ï¼›å¦åˆ™ï¼Œè¡¨ç¤ºæµ®ç‚¹é™¤æ³•ã€‚
- é™¤ä»¥ 0ï¼šæ•´æ•°ä¼šäº§ç”Ÿä¸€ä¸ªå¼‚å¸¸ï¼Œæµ®ç‚¹æ•°ä¼šå¾—åˆ°æ— ç©·å¤§æˆ– `NaN`ã€‚

**strictfpï¼š**

- ä½¿ç”¨ä¸¥æ ¼çš„æµ®ç‚¹è®¡ç®—ï¼Œä¿è¯å¯ç§»æ¤æ€§ã€‚
- ä½œç”¨äºç±»ã€æ¥å£æˆ–æ–¹æ³•ä¸Šã€‚
- æ¯”ç²¾ç¡®è®¡ç®—æ…¢ã€‚

### 3.5.2 æ•°å­¦å‡½æ•°ä¸å¸¸é‡

**Mathï¼š**

- `floorMod`ï¼šå¯¹äºæ­£é™¤æ•°ï¼Œä½™æ•°æ€»æ˜¯æ­£ï¼›è´Ÿé™¤æ•°ï¼Œä½™æ•°æ€»æ˜¯è´Ÿã€‚
- ä¸‰è§’å‡½æ•°ï¼š`sin`ã€`cos`ã€`tan`ã€`atan`ã€`atan2`ã€‚
- æŒ‡æ•°ï¼š`exp`ã€`log`ã€`log10`ã€‚
- å¸¸é‡ï¼š`PI`ã€`E`ã€‚
- ä¸ä¾èµ–å¹³å°ï¼šä½¿ç”¨ `StrictMath` ç±»ï¼Œå®ç°äº†[FDLIBMï¼ˆFreely Distributable Math Libraryï¼Œå¯è‡ªç”±åˆ†å‘çš„æ•°å­¦åº“ï¼‰](https://www.netlib.org/fdlibm)ã€‚
- é”™è¯¯å¤„ç†ï¼šå¦‚æº¢å‡ºä¼šæ‚„æ‚„è¿”å›é”™è¯¯ç»“æœè€Œä¸åšä»»ä½•æé†’ï¼Œå¯ä»¥ä½¿ç”¨ `Math.xxxExact()` é”™è¯¯æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚

> **ä»€ä¹ˆæ˜¯ `floorMod`ï¼š**
>
> è°ƒç”¨ `floorDiv`ï¼Œå•†ä¸€ä¸ªæ•´æ•°ï¼Œå°äºç­‰äºä»£æ•°å•†ã€‚æ‰€ä»¥ y æ­£æ—¶ï¼Œä¹˜ç§¯æ›´å°ï¼Œä½™æ•°æ€»æ˜¯æ­£ï¼›y è´Ÿæ—¶ä¹˜ç§¯æ›´å¤§ï¼Œä½™æ•°æ€»æ˜¯è´Ÿæ•°ï¼š
>
> ```java
> public static int floorMod(int x, int y) {
>     return x - floorDiv(x, y) * y;
> }
> ```

### 3.5.3 æ•°å€¼ç±»å‹ä¹‹é—´çš„è½¬æ¢

**æ•°å€¼åˆæ³•è½¬æ¢ï¼š** å®çº¿æ— ä¿¡æ¯ä¸¢å¤±ï¼›è™šçº¿å¯èƒ½æœ‰ç²¾åº¦ä¸¢å¤±ã€‚

![å›¾3-1-æ•°å€¼ç±»å‹ä¹‹é—´çš„åˆæ³•è½¬æ¢](assets/å›¾3-1-æ•°å€¼ç±»å‹ä¹‹é—´çš„åˆæ³•è½¬æ¢.png)

**è¿ç®—æ—¶è‡ªåŠ¨è½¬æ¢ï¼š**

å½“ç”¨ä¸€ä¸ªäºŒå…ƒè¿ç®—ç¬¦è¿æ¥ä¸¤ä¸ªå€¼æ—¶ï¼Œå…ˆè¦å°†ä¸¤ä¸ªæ“ä½œæ•°è½¬æ¢ä¸ºåŒä¸€ç§ç±»å‹ï¼Œç„¶åå†è¿›è¡Œè®¡ç®—ï¼š

- å¦‚æœä¸¤ä¸ªæ“ä½œæ•°ä¸­æœ‰ä¸€ä¸ªæ˜¯ `double` ç±»å‹ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°å°±ä¼šè½¬æ¢ä¸º `double` ç±»å‹ã€‚
- å¦åˆ™ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ˜¯ `float` ç±»å‹ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°å°†ä¼šè½¬æ¢ä¸º `float` ç±»å‹ã€‚
- å¦åˆ™ï¼Œå¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ˜¯ `long` ç±»å‹ï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°å°†ä¼šè½¬æ¢ä¸º `long` ç±»å‹ã€‚
- å¦åˆ™ï¼Œä¸¤ä¸ªæ“ä½œæ•°éƒ½å°†è¢«è½¬æ¢ä¸º `int` ç±»å‹ã€‚

### 3.5.4 å¼ºåˆ¶ç±»å‹è½¬æ¢

ç•¥ã€‚

### 3.5.5 ç»“åˆèµ‹å€¼å’Œè¿ç®—ç¬¦

**æ³¨æ„ï¼š** å¦‚æœ x æ˜¯ä¸€ä¸ª intï¼Œåˆ™ `x += 3.5` æ˜¯åˆæ³•çš„ï¼Œä¼šå‘ç”Ÿå¼ºåˆ¶ç±»å‹è½¬æ¢ `x = (int)(x + 3.5)`ã€‚

### 3.5.6 è‡ªå¢ä¸è‡ªå‡è¿ç®—ç¬¦

ç•¥ã€‚

### 3.5.7 å…³ç³»å’Œ boolean è¿ç®—ç¬¦

- `&&` å’Œ `||` ä¼šâ€œçŸ­è·¯â€ã€‚

### 3.5.8 ä½è¿ç®—ç¬¦

- `>>` ç”¨ç¬¦å·ä½å¡«å……é«˜ä½ï¼Œ`>>>` ç”¨ 0 å¡«å……é«˜ä½ã€‚
- å³æ“ä½œæ•°å–æ¨¡ï¼šä¾‹å¦‚ï¼š`1<<35` ç­‰åŒäº `1<<3`ã€‚

### 3.5.9 æ‹¬å·ä¸è¿ç®—ç¬¦çº§åˆ«

**è¿ç®—ç¬¦ä¼˜å…ˆçº§ï¼š**

![è¡¨3-4-è¿ç®—ç¬¦ä¼˜å…ˆçº§](assets/è¡¨3-4-è¿ç®—ç¬¦ä¼˜å…ˆçº§.png)

## 3.6 å­—ç¬¦ä¸²

### 3.6.1 å­ä¸²

ç•¥ã€‚

### 3.6.2 æ‹¼æ¥

- å­—ç¬¦ä¸²æ‹¼æ¥ï¼š`+`ã€`join`ã€`repeat`ã€‚

### 3.6.3 ä¸å¯å˜å­—ç¬¦ä¸²

ç•¥ã€‚

### 3.6.4 æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰

ç•¥ã€‚

### 3.6.5 ç©ºä¸²ä¸ Null ä¸²

ç•¥ã€‚

### 3.6.6 ç ç‚¹ä¸ä»£ç å•å…ƒ

- è·å–ä»£ç å•å…ƒæ•°é‡ï¼š`length`ã€‚

- è·å–ç ç‚¹æ•°é‡ï¼š`codePointCount`ã€‚

- è·å–æŸä¸ªä»£ç å•å…ƒï¼š`charAt`ã€‚

- è·å–æŸä¸ªç ç‚¹ï¼š`offsetByCodePoints` ç„¶å `codePointAt`ã€‚

- éå†ç ç‚¹ï¼š

  ```java
  String sentence = "ğ•†ğŸº";
  
  // æ­£å‘éå†
  for (int i = 0; i < sentence.length(); ) {
      int cp = sentence.codePointAt(i);
      if (Character.isSupplementaryCodePoint(cp)) i += 2;
      else i++;
      System.out.println(Character.toString(cp));
  }
  
  // åå‘éå†
  for (int i = sentence.length(); i > 0; ) {
      i--;
      if (Character.isSurrogate(sentence.charAt(i))) i--;
      int cp = sentence.codePointAt(i);
      System.out.println(Character.toString(cp));
  }
  ```

- å­—ç¬¦ä¸²å’Œç ç‚¹äº’è½¬ï¼š

  ```java
  // å­—ç¬¦ä¸²è½¬æ¢ä¸ºç ç‚¹ï¼Œè½¬æ¢åéå†æ›´å®¹æ˜“
  int[] codePoints = str.codePoints().toArray();
  // ç ç‚¹è½¬æ¢ä¸ºå­—ç¬¦ä¸²
  String str = new String(codePoints, 0, codePoints.length);
  ```

### 3.6.7 String API

ç•¥ã€‚

### 3.6.8 é˜…è¯»è”æœº API æ–‡æ¡£

- æ–‡æ¡£åœ°å€ï¼š<https://docs.oracle.com/en/java/javase/index.html>ã€‚

### 3.6.9 æ„å»ºå­—ç¬¦ä¸²

- å•çº¿ç¨‹ï¼š`StringBuilder`ã€‚
- å¤šçº¿ç¨‹ï¼š`StringBuffer`ã€‚

## 3.7 è¾“å…¥ä¸è¾“å‡º

### 3.7.1 è¯»å–è¾“å…¥

```java
Scanner in = new Scanner(System.in);
String next = in.next();
String nextline = in.nextLine();
int nextInt = in.nextInt();
```

**è¯»å–å¯†ç ï¼š**

```java
Console cons = System.console();
String username = cons.readLine("User name: ");
char[] passwd = cons.readPassword("Password: ");
```

### 3.7.2 æ ¼å¼åŒ–è¾“å‡º

**æ ¼å¼è¯´æ˜ç¬¦è¯­æ³•ï¼š**

![å›¾3-6-æ ¼å¼è¯´æ˜ç¬¦è¯­æ³•](assets/å›¾3-6-æ ¼å¼è¯´æ˜ç¬¦è¯­æ³•.png)

**è½¬æ¢ç¬¦ï¼š**

- å¯ä»¥ä½¿ç”¨ s è½¬æ¢ç¬¦æ ¼å¼åŒ–ä»»æ„çš„å¯¹è±¡ã€‚å¯¹äºå®ç°äº† `Formattable` æ¥å£çš„ä»»æ„å¯¹è±¡ï¼Œå°†è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ `formatTo` æ–¹æ³•ï¼›å¦åˆ™è°ƒç”¨`toString` æ–¹æ³•å°†è¿™ä¸ªå¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚

![è¡¨3-5-ç”¨äºprintfçš„è½¬æ¢ç¬¦](assets/è¡¨3-5-ç”¨äºprintfçš„è½¬æ¢ç¬¦.png)

**è½¬æ¢æ ‡å¿—ï¼š**

- `$`ï¼šå‚æ•°ç´¢å¼•å€¼ä» 1 å¼€å§‹ï¼Œé¿å…ä¸ 0 æ ‡å¿—æ··æ·†ã€‚
- `<`ï¼šå†æ¬¡å¼•ç”¨å‰é¢çš„å‚æ•°ã€‚

![è¡¨3-6-ç”¨äºprintfçš„æ ‡å¿—](assets/è¡¨3-6-ç”¨äºprintfçš„æ ‡å¿—.png)

**æ—¶é—´è½¬æ¢ç¬¦ï¼š**

![è¡¨3-7-æ—¥æœŸå’Œæ—¶é—´è½¬æ¢ç¬¦](assets/è¡¨3-7-æ—¥æœŸå’Œæ—¶é—´è½¬æ¢ç¬¦.png)

### 3.7.3 æ–‡ä»¶è¾“å…¥ä¸è¾“å‡º

- è·¯å¾„ï¼šç›¸å¯¹äº Java è™šæ‹Ÿæœºå¯åŠ¨ç›®å½• `System.getProperty("user.dir")`ã€‚

## 3.8 æ§åˆ¶æµç¨‹

### 3.8.1 å—ä½œç”¨åŸŸ

- ä¸èƒ½åœ¨åµŒå¥—çš„ä¸¤ä¸ªå—ä¸­å£°æ˜ç›¸åŒçš„å˜é‡ã€‚

### 3.8.2 æ¡ä»¶è¯­å¥

ç•¥ã€‚

### 3.8.3 å¾ªç¯

ç•¥ã€‚

### 3.8.4 ç¡®å®šå¾ªç¯

ç•¥ã€‚

### 3.8.5 å¤šé‡é€‰æ‹©ï¼šswitch è¯­å¥

**ç›´é€šå¼ï¼ˆfallthroughï¼‰ï¼š**

- ç¼–è¯‘å™¨åŠ ä¸Š `-Xlint:fallthrough` é€‰é¡¹ï¼ŒæŸä¸ªåˆ†æ”¯æœ€åç¼ºå°‘ä¸€ä¸ª break è¯­å¥ï¼Œç¼–è¯‘å™¨å°±ä¼šç»™å‡ºä¸€ä¸ªè­¦å‘Šä¿¡æ¯ã€‚
- å¦‚æœä½ ç¡®å®æƒ³ä½¿ç”¨è¿™ç§â€œç›´é€šå¼â€ï¼ˆfallthroughï¼‰è¡Œä¸ºï¼Œå¯ä»¥åœ¨å…¶å¤–å›´æ–¹æ³•åŠ ä¸€ä¸ªæ³¨è§£ `@SuppressWarning("fallthrough")`ã€‚

**case ç±»å‹ï¼š**

- `char`ã€`byte`ã€ `short` æˆ– `int` çš„å¸¸é‡è¡¨è¾¾å¼
- æšä¸¾å¸¸é‡ã€‚
- å­—ç¬¦ä¸²å­—é¢é‡ï¼šJava 7 å¼€å§‹ã€‚

### 3.8.6 ä¸­æ–­æ§åˆ¶æµç¨‹çš„è¯­å¥

**gotoï¼š**

- å°½ç®¡ Java çš„è®¾è®¡è€…å°† `goto` ä½œä¸ºä¿ç•™å­—ï¼Œä½†å®é™…ä¸Šå¹¶æ²¡æœ‰æ‰“ç®—åœ¨è¯­è¨€ä¸­ä½¿ç”¨å®ƒã€‚
- ç”¨ `goto` è¯­å¥è¢«è®¤ä¸ºæ˜¯ä¸€ç§æ‹™åŠ£çš„ç¨‹åºè®¾è®¡é£æ ¼ã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰ä¸€äº›ç¨‹åºå‘˜è®¤ä¸ºåå¯¹ `goto` çš„å‘¼å£°ä¼¼ä¹æœ‰äº›è¿‡åˆ†ï¼ˆä¾‹å¦‚ï¼ŒDonald Knuth å°±æ›¾å†™è¿‡ä¸€ç¯‡åä¸ºã€ŠStructured Programming with goto statementsã€‹çš„è‘—åæ–‡ç« ï¼‰ã€‚è¿™ç¯‡æ–‡ç« è¯´ï¼Œæ— é™åˆ¶åœ°ä½¿ç”¨ `goto` è¯­å¥ç¡®å®å¾ˆå®¹æ˜“å¯¼è‡´é”™è¯¯ï¼Œä½†åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œå¶å°”ä½¿ç”¨ `goto` è·³å‡ºå¾ªç¯è¿˜æ˜¯æœ‰ç›Šå¤„çš„ã€‚
- Java è®¾è®¡è€…åŒæ„è¿™ç§çœ‹æ³•ï¼Œç”šè‡³åœ¨ Java è¯­è¨€ä¸­å¢åŠ äº†ä¸€æ¡æ–°è¯­å¥ï¼šå¸¦æ ‡ç­¾çš„ breakã€‚

**å¸¦æ ‡ç­¾çš„ breakï¼š** å¯ä»¥ç”¨äº `if` è¯­å¥æˆ–è€…å—è¯­å¥ï¼Œåªèƒ½è·³å‡ºè¯­å¥å—ï¼Œè€Œä¸èƒ½è·³å…¥è¯­å¥å—ï¼š

```java
label:
{
    ...
    if (condition) break label; // é€€å‡ºå—
}
// æ‰§è¡Œ break åè·³è½¬åˆ°è¿™é‡Œ
```

**å¸¦æ ‡ç­¾çš„ continueï¼š** å°†è·³åˆ°ä¸æ ‡ç­¾åŒ¹é…çš„å¾ªç¯çš„é¦–éƒ¨ã€‚

## 3.9 å¤§æ•°

ç•¥ã€‚

## 3.10 æ•°ç»„

### 3.10.1 å£°æ˜æ•°ç»„

- å£°æ˜ï¼š`int[] a` æˆ– `int a[]`ã€‚
- åˆå§‹åŒ–ï¼š`int[] smallPrimes = {2, 3, }`ï¼Œæœ€åä¸€ä¸ªå€¼åé¢å…è®¸æœ‰é€—å·ã€‚
- åŒ¿åæ•°ç»„èµ‹å€¼ï¼š`smallPrimes = new int[] {...}`ã€‚

### 3.10.2 è®¿é—®æ•°ç»„å…ƒç´ 

**æ•°ç»„å…ƒç´ åˆå§‹å€¼ï¼š**

- æ•°å­—åˆå§‹åŒ–ä¸º 0ã€‚
- boolean åˆå§‹åŒ–ä¸º falseã€‚
- å¯¹è±¡åˆå§‹åŒ–ä¸º nullã€‚

### 3.10.3 for each å¾ªç¯

- æ‰“å°ï¼š`Arrays.toString`ã€‚

### 3.10.4 æ•°ç»„æ‹·è´

- æ‹·è´ï¼š`Arrays.copyOf`ã€‚

### 3.10.5 å‘½ä»¤è¡Œå‚æ•°

- ç¨‹åºåå¹¶æ²¡æœ‰å­˜å‚¨åœ¨ args æ•°ç»„ä¸­ã€‚

### 3.10.6 æ•°ç»„æ’åº

- æ’åºï¼š`Arrays.sort`ã€‚

### 3.10.7 å¤šç»´æ•°ç»„

- å¤šç»´æ•°ç»„åˆå§‹åŒ–ï¼Œæ¯ä¸€ç»´éƒ½ä¼š newï¼š

  ```java
  double[][] balances = new double[NYEAES][NRATES];
  int[][] magicSquare = { {16, 3, 2, 13}, ... };
  ```

- å¤šç»´æ•°ç»„æ‰“å°ï¼š`Arrays.deepToString`ã€‚

### 3.10.8 ä¸è§„åˆ™æ•°ç»„

- æœ€åä¸€ç»´å¯ä»¥ä¸åˆå§‹åŒ–ï¼Œä¸º `null`ï¼š

  ```java
  double[][] balances = new double[NYEAES][];
  ```

