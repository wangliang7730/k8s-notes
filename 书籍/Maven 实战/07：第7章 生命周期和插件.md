---
date: 2021-09-29
updated: 2021-09-29
---

# ç¬¬7ç«  ç”Ÿå‘½å‘¨æœŸå’Œæ’ä»¶

## 7.1 ä½•ä¸ºç”Ÿå‘½å‘¨æœŸ

## 7.2 ç”Ÿå‘½å‘¨æœŸè¯¦è§£

| ğŸ’¡ **Maven çš„ç”Ÿå‘½å‘¨æœŸ**[^1] |
| -------------------------- |

### 7.2.1 ä¸‰å¥—ç”Ÿå‘½å‘¨æœŸ

Maven æ‹¥æœ‰ä¸‰å¥—ç›¸äº’ç‹¬ç«‹çš„ç”Ÿå‘½å‘¨æœŸï¼š

-   cleanï¼šæ¸…ç†é¡¹ç›®
-   defaultï¼šæ„å»ºé¡¹ç›®
-   siteï¼šå»ºç«‹é¡¹ç›®ç«™ç‚¹

### 7.2.2 cleanç”Ÿå‘½å‘¨æœŸ

### 7.2.3 defaultç”Ÿå‘½å‘¨æœŸ

### 7.2.4 siteç”Ÿå‘½å‘¨æœŸ

### 7.2.5 å‘½ä»¤è¡Œä¸ç”Ÿå‘½å‘¨æœŸ

## 7.3 æ’ä»¶ç›®æ ‡

## 7.4 æ’ä»¶ç»‘å®š

| ğŸ’¡ **æ’ä»¶ä¸ç”Ÿå‘½å‘¨æœŸçš„ç»‘å®š** |
| -------------------------- |

### 7.4.1 å†…ç½®ç»‘å®š[^2]

### 7.4.2 è‡ªå®šä¹‰ç»‘å®š

```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-source-plugin</artifactId>
    <version>2.1.1</version>
    <executions>
        <execution>
            <id>attach-sources</id>
            <phase>package</phase>
            <goals>
                <goal>jar-no-fork</goal>
            </goals>
        </execution>
    </executions>
</plugin>
```

æŸ¥çœ‹æ’ä»¶å¸®åŠ©ï¼š

```shell
mvn help:describe -Dplugin=org.apache.maven.plugins:maven-source-plugin:2.1.1 -Ddetail
```

## 7.5 æ’ä»¶é…ç½®

### 7.5.1 å‘½ä»¤è¡Œæ’ä»¶é…ç½®

```shell
mvn install -Dmaven.test.skip=true
```

### 7.5.2 pomä¸­æ’ä»¶å…¨å±€é…ç½®

```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-compiler-plugin</artifactId>
    <configuration>
        <source>1.8</source>
        <target>1.8</target>
    </configuration>
</plugin>
```

### 7.5.3 pomä¸­æ’ä»¶ä»»åŠ¡é…ç½®

```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-antrun-plugin</artifactId>
    <version>1.8</version>
    <executions>
        <execution>
            <id>ant-validate</id>
            <phase>validate</phase>
            <goals>
                <goal>run</goal>
            </goals>
            <configuration>
                <tasks>
                    <echo>I'm bound to validate phase.</echo>
                </tasks>
            </configuration>
        </execution>
        <execution>
            <id>ant-verify</id>
            <phase>verify</phase>
            <goals>
                <goal>run</goal>
            </goals>
            <configuration>
                <tasks>
                    <echo>I'm bound to verify phase.</echo>
                </tasks>
            </configuration>
        </execution>
    </executions>
</plugin>
```

## 7.6 è·å–æ’ä»¶ä¿¡æ¯

### 7.6.1 åœ¨çº¿æ’ä»¶ä¿¡æ¯

-   https://maven.apache.org/plugins/index.html
-   https://www.mojohaus.org/plugins.html

### 7.6.2 ä½¿ç”¨mavenhelppluginæè¿°æ’ä»¶

```shell
mvn help:describe -Dplugin=compiler -Dgoal=compile -Ddetail
```

## 7.7 ä»å‘½ä»¤è¡Œè°ƒç”¨æ’ä»¶

```shell
mvn [options] [<goal(s)>] [<phase(s)>]
```

## 7.8 æ’ä»¶è§£ææœºåˆ¶

### 7.8.1 æ’ä»¶ä»“åº“

```xml
<pluginRepositories>
    <pluginRepository>
        <id>central</id>
        <name>Central Repository</name>
        <url>https://repo.maven.apache.org/maven2</url>
        <layout>default</layout>
        <snapshots>
            <enabled>false</enabled>
        </snapshots>
        <releases>
            <updatePolicy>never</updatePolicy>
        </releases>
    </pluginRepository>
</pluginRepositories>
```

### 7.8.2 æ’ä»¶çš„é»˜è®¤groupid

groupId ä¸º `org.apache.maven.plugins` å¯ä»¥çœç•¥

### 7.8.3 è§£ææ’ä»¶ç‰ˆæœ¬

å…ƒæ•°æ®ï¼š`<groupId>/<artifictId>/maven-metadata.xml`

### 7.8.4 è§£ææ’ä»¶å‰ç¼€

-   å…ƒæ•°æ®ï¼š`<groupId>/maven-metadata.xml`

-   é»˜è®¤ groupId ä¸º `org.apache.maven.plugins` å’Œ `org.codehaus.mojo`

-   å¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„ groupIdï¼š

    ```xml
    <setting>
        <pluginGroups>
            <pluginGroup>com.your.plugins</pluginGroup>
        </pluginGroups>
    </setting>
    ```

## 7.9 å°ç»“

[^1]: [ã€Apache Maven Projectã€‘Introduction to the Build Lifecycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html)
[^2]: [ã€Apache Maven Projectã€‘Built-in Lifecycle Bindings](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#built-in-lifecycle-bindings)

